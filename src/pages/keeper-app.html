<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Keeper League Manager</title>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- React and Babel -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
  
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Space+Mono:wght@400;700&display=swap');
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useMemo } = React;
    
    // Lucide icons
    const Search = ({ className }) => <i data-lucide="search" className={className}></i>;
    const Award = ({ className }) => <i data-lucide="award" className={className}></i>;
    const XCircle = ({ className }) => <i data-lucide="x-circle" className={className}></i>;
    const CheckCircle = ({ className }) => <i data-lucide="check-circle" className={className}></i>;
    const AlertCircle = ({ className }) => <i data-lucide="alert-circle" className={className}></i>;
    const Trophy = ({ className }) => <i data-lucide="trophy" className={className}></i>;

    // Parse CSV data
    const csvData = \`Team,Owner,Player,YTD Pts,Bye,Years,Keeper,Acquired
Hipster Doofus,Corey Thoesen,"Mariota, Marcus WAS QB (Q)",158.55,12,,,
Hipster Doofus,Corey Thoesen,"Williams, Caleb CHI QB",378.3,5,,,9.07
Hipster Doofus,Corey Thoesen,"Charbonnet, Zach SEA RB (I)",165.7,8,,,8.06
Hipster Doofus,Corey Thoesen,"Henderson, TreVeyon NEP RB (R)",221.35,14,,,2.06
Hipster Doofus,Corey Thoesen,"Mixon, Joe HOU RB (I)",‐,6,,,10.05
Hipster Doofus,Corey Thoesen,"Tuten, Bhayshul JAC RB (R)",107.55,8,,,10.06
Hipster Doofus,Corey Thoesen,"Williams, Kyren LAR RB",255.6,8,1,K11,11.07
Hipster Doofus,Corey Thoesen,"Aiyuk, Brandon SFO WR (H)",‐,14,,,15.07
Hipster Doofus,Corey Thoesen,"Ayomanor, Elic TEN WR (R)",108.5,10,,,
Hipster Doofus,Corey Thoesen,"Egbuka, Emeka TBB WR (R)",206.9,9,,,5.07
Hipster Doofus,Corey Thoesen,"Lamb, CeeDee DAL WR",221.5,10,,,1.07
Hipster Doofus,Corey Thoesen,"McMillan, Tetairoa CAR WR (R)",208.9,14,,,3.07
Hipster Doofus,Corey Thoesen,"Odunze, Rome CHI WR",152.1,5,3,K6,6.06
Hipster Doofus,Corey Thoesen,"Reed, Jayden GBP WR",49.55,5,,,5.06
Hipster Doofus,Corey Thoesen,"Bowers, Brock LVR TE (I)",182.6,8,3,K7,7.12
Hipster Doofus,Corey Thoesen,"Fannin, Harold CLE TE (R) (Q)",189.4,9,,,
Hipster Doofus,Corey Thoesen,"Mevis, Harrison LAR PK",66,8,,,
Hipster Doofus,Corey Thoesen,"Bears, Chicago CHI Def",114,5,,,
Wa Wa Wee Wa ,Mike Stein,"Burrow, Joe CIN QB",146.05,10,,,3.04
Wa Wa Wee Wa ,Mike Stein,"Dart, Jaxson NYG QB (R)",259.9,14,,,16.01
Wa Wa Wee Wa ,Mike Stein,"Carter, Michael ARI RB",93.45,8,,,
Wa Wa Wee Wa ,Mike Stein,"Harvey, RJ DEN RB (R)",222.05,12,,,4.01
Wa Wa Wee Wa ,Mike Stein,"Marks, Woody HOU RB (R)",144.8,6,,,14.06
Wa Wa Wee Wa ,Mike Stein,"Mitchell, Keaton BAL RB",81.75,7,,,18.01
Wa Wa Wee Wa ,Mike Stein,"Pollard, Tony TEN RB",189.3,10,,,4.09
Wa Wa Wee Wa ,Mike Stein,"Swift, D'Andre CHI RB",236,5,,,4.06
Wa Wa Wee Wa ,Mike Stein,"Taylor, Jonathan IND RB",381.4,11,,,1.12
Wa Wa Wee Wa ,Mike Stein,"Tracy, Tyrone NYG RB",140.3,14,3,K15,15.08
Wa Wa Wee Wa ,Mike Stein,"Brown, A.J. PHI WR",235.3,9,,,2.05
Wa Wa Wee Wa ,Mike Stein,"Evans, Mike TBB WR",82.4,9,,,2.11
Wa Wa Wee Wa ,Mike Stein,"London, Drake ATL WR",199.1,5,,,2.01
Wa Wa Wee Wa ,Mike Stein,"Pittman, Michael IND WR",202.3,11,,,6.01
Wa Wa Wee Wa ,Mike Stein,"Waddle, Jaylen MIA WR (Q)",201.2,12,,,5.12
Wa Wa Wee Wa ,Mike Stein,"McBride, Trey ARI TE",311.4,8,2,K12,12.06
Wa Wa Wee Wa ,Mike Stein,"Aubrey, Brandon DAL PK",179.6,10,,,11.12
Wa Wa Wee Wa ,Mike Stein,"Lions, Detroit DET Def",100,8,,,13.06
Phoenix Force,Chris Culbreath,"Allen, Josh BUF QB (Q)",449.3,7,,,2.03
Phoenix Force,Chris Culbreath,"Hubbard, Chuba CAR RB",133.35,14,3,K6,6.03
Phoenix Force,Chris Culbreath,"Jacobs, Josh GBP RB",239.1,5,,,1.1
Phoenix Force,Chris Culbreath,"Knight, Bam ARI RB (I)",105.9,8,,,
Phoenix Force,Chris Culbreath,"Pacheco, Isiah KCC RB",87.6,10,,,5.1
Phoenix Force,Chris Culbreath,"Perine, Samaje CIN RB",91.2,10,,,
Phoenix Force,Chris Culbreath,"Wilson, Emanuel GBP RB",102.3,5,,,
Phoenix Force,Chris Culbreath,"Allen, Keenan LAC WR",175.1,12,,,11.1
Phoenix Force,Chris Culbreath,"Bond, Isaiah CLE WR (R)",52.55,9,,,14.03
Phoenix Force,Chris Culbreath,"Higgins, Jayden HOU WR (R)",123.2,6,,,9.1
Phoenix Force,Chris Culbreath,"McConkey, Ladd LAC WR",188.05,12,3,K7,7.1
Phoenix Force,Chris Culbreath,"Nacua, Puka LAR WR",371,8,2,K12,12.03
Phoenix Force,Chris Culbreath,"Wilson, Garrett NYJ WR (I)",99.5,9,1,K4,4.03
Phoenix Force,Chris Culbreath,"Kelce, Travis KCC TE",‐,10,,,13.1
Phoenix Force,Chris Culbreath,"Zuerlein, Greg NYJ PK",‐,9,,,
Phoenix Force,Chris Culbreath,"Commanders, Washington WAS Def",118,12,,,
Howie's Hammers,Howard Silverstein,"Daniels, Jayden WAS QB",289.95,12,,,1.08
Howie's Hammers,Howard Silverstein,"Garoppolo, Jimmy LAR QB",137.75,8,,,
Howie's Hammers,Howard Silverstein,"Allen, Justice DET RB (R)",159.6,8,,,10.08
Howie's Hammers,Howard Silverstein,"Gibson, Antonio NEP RB",94.15,14,,,
Howie's Hammers,Howard Silverstein,"McCaffrey, Christian SFO RB (I)",‐,14,,,7.08
Howie's Hammers,Howard Silverstein,"McVay, Jovantae MIA RB (R)",163.85,12,,,
Howie's Hammers,Howard Silverstein,"Owens, Isiah CLE RB (R)",80.95,9,,,13.08
Howie's Hammers,Howard Silverstein,"Robinson, Bijan ATL RB",301.45,5,,,1.05
Howie's Hammers,Howard Silverstein,"Thomas, Jahmyr PHI RB (R)",56.05,9,,,
Howie's Hammers,Howard Silverstein,"Thomas, Miyan LVR RB",‐,8,,,
Howie's Hammers,Howard Silverstein,"Downs, Josh IND WR",155,11,3,K8,8.08
Howie's Hammers,Howard Silverstein,"Jennings, Jauan SFO WR",134.85,14,,,14.08
Howie's Hammers,Howard Silverstein,"Moore, Rondale ATL WR (Q)",37.6,5,,,
Howie's Hammers,Howard Silverstein,"Nabers, Malik NYG WR",263.5,14,,,4.08
Howie's Hammers,Howard Silverstein,"Olave, Chris NOS WR (O)",181.15,13,,,2.08
Howie's Hammers,Howard Silverstein,"Sanders, Emmanuel CAR WR",106.8,14,,,
Howie's Hammers,Howard Silverstein,"Thomas, Jordan TBB WR",64.9,9,,,
Howie's Hammers,Howard Silverstein,"Ertz, Zach WAS TE (Q)",142.5,12,,,
Howie's Hammers,Howard Silverstein,"Kincaid, Dalton BUF TE",139.85,7,2,K9,9.08
Howie's Hammers,Howard Silverstein,"Bass, Tyler BUF PK",119.5,7,,,15.08
Howie's Hammers,Howard Silverstein,"Bills, Buffalo BUF Def",104,7,,,
Skinner's Skins,Jeff Skinner,"Hurts, Jalen PHI QB",411.7,9,,,1.04
Skinner's Skins,Jeff Skinner,"Levis, Will TEN QB",185.75,10,,,
Skinner's Skins,Jeff Skinner,"Evans, Demond CAR RB (R)",233.1,14,,,6.04
Skinner's Skins,Jeff Skinner,"Gibson, Brian NOS RB (R)",184.7,13,,,17.04
Skinner's Skins,Jeff Skinner,"Guerendo, Isaac SFO RB (I)",‐,14,,,
Skinner's Skins,Jeff Skinner,"Henry, Derrick BAL RB",346.1,7,,,2.04
Skinner's Skins,Jeff Skinner,"Jones, Aaron GBP RB (I)",‐,5,1,K16,16.04
Skinner's Skins,Jeff Skinner,"Brown, Marquise KCC WR (O)",3.4,10,,,
Skinner's Skins,Jeff Skinner,"Hopkins, DeAndre KCC WR",145.9,10,,,4.11
Skinner's Skins,Jeff Skinner,"Jefferson, Justin MIN WR",309.3,8,,,1.11
Skinner's Skins,Jeff Skinner,"Metchie, John HOU WR (Q)",101.1,6,,,
Skinner's Skins,Jeff Skinner,"Rice, Rashee KCC WR (H)",‐,10,,,11.04
Skinner's Skins,Jeff Skinner,"Smith, Devonta PHI WR",192,9,,,3.11
Skinner's Skins,Jeff Skinner,"Williams, Jameson DET WR",108.1,8,,,5.04
Skinner's Skins,Jeff Skinner,"Kraft, Samuel HOU TE",167.8,6,,,
Skinner's Skins,Jeff Skinner,"Tipton, Baylor IND TE (R)",108.9,11,,,
Skinner's Skins,Jeff Skinner,"Shrader, Will NYJ PK",‐,9,,,
Skinner's Skins,Jeff Skinner,"Steelers, Pittsburgh PIT Def",118,7,,,
Swantkowski's Smurfs,James Swantkowski,"Mahomes, Patrick KCC QB",409.95,10,,,1.09
Swantkowski's Smurfs,James Swantkowski,"Minshew, Gardner LVR QB (Q)",‐,8,,,
Swantkowski's Smurfs,James Swantkowski,"Irving, Jayden TBB RB",212.45,9,3,K13,13.09
Swantkowski's Smurfs,James Swantkowski,"Johnson, Trenton CIN RB (R)",179.15,10,,,7.09
Swantkowski's Smurfs,James Swantkowski,"Jones, Dylan MIN RB (R)",224,8,,,11.09
Swantkowski's Smurfs,James Swantkowski,"Mathis, Raynard MIN RB (R)",156.65,8,,,14.09
Swantkowski's Smurfs,James Swantkowski,"McBride, Sean CHI RB (R)",184.55,5,,,8.09
Swantkowski's Smurfs,James Swantkowski,"Metellus, Audric CAR RB (R)",186.4,14,,,10.09
Swantkowski's Smurfs,James Swantkowski,"Phillips, Jalen TEN RB (R)",182.45,10,,,13.03
Swantkowski's Smurfs,James Swantkowski,"White, Rachaad TBB RB (I)",‐,9,,,
Swantkowski's Smurfs,James Swantkowski,"Adams, Davante NYJ WR (Q)",143.4,9,,,2.09
Swantkowski's Smurfs,James Swantkowski,"Diggs, Stefon HOU WR (I)",‐,6,,,3.09
Swantkowski's Smurfs,James Swantkowski,"Dotson, Jahan PHI WR",89.9,9,,,5.09
Swantkowski's Smurfs,James Swantkowski,"Polk, Jalen NEP WR",87.85,14,,,9.09
Swantkowski's Smurfs,James Swantkowski,"Williams, Jalen LAR WR",205.35,8,,,4.09
Swantkowski's Smurfs,James Swantkowski,"Hockenson, T.J. MIN TE (H)",‐,8,,,
Swantkowski's Smurfs,James Swantkowski,"Sanders, Miles CAR PK",92,14,,,
Swantkowski's Smurfs,James Swantkowski,"Rams, Los Angeles LAR Def",119,8,,,
Big Money Mike,Michael Bloom,"Prescott, Dak DAL QB (I)",‐,10,,,3.02
Big Money Mike,Michael Bloom,"Ridder, Desmond ARI QB",201.1,8,,,
Big Money Mike,Michael Bloom,"Abanikanda, Delvin PIT RB (R)",181.65,7,,,12.02
Big Money Mike,Michael Bloom,"Elliss, Dillon NEP RB (R)",211.1,14,,,
Big Money Mike,Michael Bloom,"Etienne, Travis JAC RB",142.55,8,,,2.02
Big Money Mike,Michael Bloom,"Ford, Jerome CLE RB",204.6,9,,,
Big Money Mike,Michael Bloom,"Laube, Dylan LVR RB (R)",202.8,8,,,16.02
Big Money Mike,Michael Bloom,"Miller, Braylon BUF RB",158.45,7,,,
Big Money Mike,Michael Bloom,"Townsend, Tyreik CIN RB (R)",173.7,10,,,18.02
Big Money Mike,Michael Bloom,"Allen, Simi DET WR (R) (I)",‐,8,,,6.02
Big Money Mike,Michael Bloom,"Cooks, Brandin MIA WR (Q)",81.8,12,,,
Big Money Mike,Michael Bloom,"Doubs, Romeo GBP WR",109.85,5,,,8.02
Big Money Mike,Michael Bloom,"Godwin, Chris TBB WR",201.35,9,,,5.02
Big Money Mike,Michael Bloom,"Kittle, George SFO TE",231.95,14,,,10.02
Big Money Mike,Michael Bloom,"Latu, Laiatu IND TE (R)",196.85,11,,,9.02
Big Money Mike,Michael Bloom,"Mafe, Elijah SEA TE (R) (I)",‐,8,,,
Big Money Mike,Michael Bloom,"Strowbridge, Tyler TBB TE (R)",215.2,9,,,
Big Money Mike,Michael Bloom,"Moody, Jake SFO PK",76,14,,,
Big Money Mike,Michael Bloom,"Broncos, Denver DEN Def",100,12,,,
Squirrel Squad,Craig Carlson,"Carr, Derek NOS QB",118.6,13,,,
Squirrel Squad,Craig Carlson,"Fields, Justin PIT QB",206.65,7,,,
Squirrel Squad,Craig Carlson,"Ward, Aidan JAC QB (R)",195.15,8,,,
Squirrel Squad,Craig Carlson,"Atwell, Treylon LAR WR (Q)",119.2,8,,,
Squirrel Squad,Craig Carlson,"Finley, Jha'Quan LVR WR",183.55,8,,,
Squirrel Squad,Craig Carlson,"Flowers, Tre IND WR",231.65,11,,,
Squirrel Squad,Craig Carlson,"Jackson, Devaughn TEN WR (R)",215.1,10,,,
Squirrel Squad,Craig Carlson,"Johnson, Diontae CAR WR",144.5,14,,,
Squirrel Squad,Craig Carlson,"Jones, Lejay PIT WR (R)",224.3,7,,,
Squirrel Squad,Craig Carlson,"Peoples, Sam SEA WR (R)",171.95,8,,,
Squirrel Squad,Craig Carlson,"Smith, Antwane MIA WR (R)",180.35,12,,,
Squirrel Squad,Craig Carlson,"Tillman, Cedric CLE WR (R) (Q)",188.45,9,,,
Squirrel Squad,Craig Carlson,"Warren, Jaylen BAL WR (R)",124.05,7,,,
Squirrel Squad,Craig Carlson,"Achane, De'Von MIA RB (Q)",248.3,12,,,
Squirrel Squad,Craig Carlson,"Bigsby, Tank JAC RB",176.3,8,,,
Squirrel Squad,Craig Carlson,"Conner, James ARI RB",214.2,8,,,
Squirrel Squad,Craig Carlson,"Dowdle, Rico DAL RB",202.7,10,,,
Squirrel Squad,Craig Carlson,"Howard, Sean DAL RB (R)",207.3,10,,,
Squirrel Squad,Craig Carlson,"Kamara, Alvin NOS RB",254.5,13,,,
Squirrel Squad,Craig Carlson,"Witherspoon, Desmond ATL RB (R)",221.1,5,,,
Squirrel Squad,Craig Carlson,"Okonkwo, Chig TEN TE",143.6,10,,,
Squirrel Squad,Craig Carlson,"Carpenter, Brandon LAC PK",169.6,12,,,
Squirrel Squad,Craig Carlson,"Eagles, Philadelphia PHI Def",75,9,,,
Fat Troy,Jeremy Schreiber,"Lawrence, Trevor JAC QB (Q)",‐,8,,,5.03
Fat Troy,Jeremy Schreiber,"Williams, Ben KCC QB (R)",167.55,10,,,
Fat Troy,Jeremy Schreiber,"Callis, Alec MIA RB (R)",210.7,12,,,10.03
Fat Troy,Jeremy Schreiber,"Corum, Blake LAR RB",163.05,8,2,K11,11.03
Fat Troy,Jeremy Schreiber,"Hill, Justice GBP RB (R)",194.25,5,,,6.03
Fat Troy,Jeremy Schreiber,"Lloyd, Justin JAC RB",196.75,8,,,9.03
Fat Troy,Jeremy Schreiber,"Benson, Trey ARI RB",204.55,8,,,7.03
Fat Troy,Jeremy Schreiber,"Williams, Damien DAL RB (R)",185.05,10,,,16.03
Fat Troy,Jeremy Schreiber,"Chase, Ja'Marr CIN WR",245.3,10,,,1.03
Fat Troy,Jeremy Schreiber,"Dodd, Trey SEA WR (R)",206.35,8,,,
Fat Troy,Jeremy Schreiber,"Hill, Tyreek MIA WR (O)",148.55,12,,,2.12
Fat Troy,Jeremy Schreiber,"Nailor, Jalen MIN WR (Q)",134.85,8,,,
Fat Troy,Jeremy Schreiber,"Ridley, Calvin TEN WR",157.65,10,,,4.03
Fat Troy,Jeremy Schreiber,"Shaheed, Rashid NOS WR",145.8,13,,,
Fat Troy,Jeremy Schreiber,"Smith, Jerome DAL WR (R)",224.8,10,,,14.03
Fat Troy,Jeremy Schreiber,"Williams, TJ PIT WR (R)",194.75,7,,,15.03
Fat Troy,Jeremy Schreiber,"Andrews, Mark BAL TE",222.45,7,3,K5,5.03
Fat Troy,Jeremy Schreiber,"Ryland, Chad ARI PK",133.6,8,,,
Fat Troy,Jeremy Schreiber,"Texans, Houston HOU Def",127,6,,,
Delts,Derek Schwandt,"Howell, Sam SEA QB",106.75,8,,,
Delts,Derek Schwandt,"Jackson, Lamar BAL QB",404.65,7,,,1.06
Delts,Derek Schwandt,"Achane, Rahsean TEN RB (R)",187.8,10,,,15.06
Delts,Derek Schwandt,"Adams, Devaughn NYJ RB (R)",211.65,9,,,13.06
Delts,Derek Schwandt,"Calhoun, Carter NEP RB (R)",226.3,14,,,9.06
Delts,Derek Schwandt,"Cook, Dalvin NYJ RB (Q)",‐,9,,,7.06
Delts,Derek Schwandt,"Gainwell, Kenneth PHI RB (Q)",134.8,9,,,
Delts,Derek Schwandt,"Gibbs, Jahmyr DET RB",323.8,8,,,2.06
Delts,Derek Schwandt,"Moss, Zander CIN RB",202.5,10,,,
Delts,Derek Schwandt,"Collins, Nico DAL WR (R)",196.2,10,,,10.06
Delts,Derek Schwandt,"Cooper, Amari CLE WR",151.65,9,,,4.06
Delts,Derek Schwandt,"Iosivas, Charlie CIN WR",96.25,10,,,
Delts,Derek Schwandt,"Jackson, Darnell TBB WR",222.45,9,,,8.06
Delts,Derek Schwandt,"Moore, Skyy KCC WR",‐,10,,,
Delts,Derek Schwandt,"Njoku, David CLE TE",156.2,9,,,12.06
Delts,Derek Schwandt,"Sinnott, Ben WAS TE (R)",180.45,12,,,11.06
Delts,Derek Schwandt,"Lutz, Wil DEN PK",173.6,12,,,
Delts,Derek Schwandt,"49ers, San Francisco SFO Def",105,14,,,
Dem Boyz,Phillip Murray,"Rogers, Aaron NYJ QB (O)",‐,9,,,
Dem Boyz,Phillip Murray,"Stroud, C.J. HOU QB",267.5,6,,,2.07
Dem Boyz,Phillip Murray,"Allen, Ray HOU RB (R)",169.8,6,,,5.11
Dem Boyz,Phillip Murray,"Davis, Jordan NOS RB",164.7,13,,,14.07
Dem Boyz,Phillip Murray,"Mason, Jordan CIN RB",79.35,10,,,
Dem Boyz,Phillip Murray,"Spears, Dillon TEN RB (Q)",181,10,,,8.07
Dem Boyz,Phillip Murray,"Bowen, Bub BAL WR (R)",164.7,7,,,
Dem Boyz,Phillip Murray,"Burks, Treylon TEN WR (Q)",113.05,10,,,
Dem Boyz,Phillip Murray,"Coleman, Derion LAC WR (R)",130.55,12,,,12.07
Dem Boyz,Phillip Murray,"Hutchinson, Levi DET WR (R)",232.4,8,,,7.07
Dem Boyz,Phillip Murray,"Johnson, Jaelon WAS WR (R)",214.75,12,,,11.07
Dem Boyz,Phillip Murray,"Legette, Jordan PIT WR (R)",206.05,7,,,6.07
Dem Boyz,Phillip Murray,"St. Brown, Amon-Ra DET WR",311.75,8,,,1.02
Dem Boyz,Phillip Murray,"Thornton, Tyquan NEP WR (Q)",88.55,14,,,
Dem Boyz,Phillip Murray,"Wiley, Cam CHI WR (R)",234.05,5,,,4.07
Dem Boyz,Phillip Murray,"Dulcich, Greg DEN TE (Q)",‐,12,,,
Dem Boyz,Phillip Murray,"Engram, Evan JAC TE",134.4,8,,,3.07
Dem Boyz,Phillip Murray,"McPherson, Evan CIN PK",135.6,10,,,
Dem Boyz,Phillip Murray,"Jets, New York NYJ Def",90,9,,,\`;

    function parseCSV(csv) {
      const lines = csv.trim().split('\\n');
      const headers = lines[0].split(',');
      
      return lines.slice(1).map(line => {
        const values = [];
        let current = '';
        let inQuotes = false;
        
        for (let i = 0; i < line.length; i++) {
          const char = line[i];
          if (char === '"') {
            inQuotes = !inQuotes;
          } else if (char === ',' && !inQuotes) {
            values.push(current.trim());
            current = '';
          } else {
            current += char;
          }
        }
        values.push(current.trim());
        
        const obj = {};
        headers.forEach((header, i) => {
          obj[header.trim()] = values[i] || '';
        });
        return obj;
      });
    }

    function calculateKeeperStatus(player) {
      const isRookie = player.Player.includes('(R)');
      const acquired = player.Acquired;
      const currentYears = player.Years ? parseInt(player.Years) : null;
      
      let acquiredRound = null;
      if (acquired) {
        const match = acquired.match(/^(\\d+)\\./);
        if (match) {
          acquiredRound = parseInt(match[1]);
        }
      }
      
      if (acquiredRound && acquiredRound <= 3) {
        return {
          eligible: false,
          reason: 'Drafted in rounds 1-3',
          nextRound: null,
          yearsRemaining: null
        };
      }
      
      let yearsRemaining;
      if (currentYears === null) {
        yearsRemaining = 3;
      } else {
        yearsRemaining = currentYears - 1;
      }
      
      if (yearsRemaining <= 0) {
        return {
          eligible: false,
          reason: 'No keeper years remaining',
          nextRound: null,
          yearsRemaining: 0
        };
      }
      
      let nextRound;
      if (!acquired) {
        nextRound = 12;
      } else if (isRookie) {
        nextRound = acquiredRound;
      } else {
        nextRound = acquiredRound - 2;
      }
      
      if (nextRound < 1) {
        nextRound = 1;
      }
      
      return {
        eligible: true,
        reason: null,
        nextRound: nextRound,
        yearsRemaining: yearsRemaining,
        isRookie: isRookie
      };
    }

    function KeeperApp() {
      const [searchTerm, setSearchTerm] = useState('');
      const [selectedTeam, setSelectedTeam] = useState('all');
      
      const players = useMemo(() => parseCSV(csvData), []);
      
      const teams = useMemo(() => {
        const teamMap = new Map();
        players.forEach(player => {
          if (!teamMap.has(player.Team)) {
            teamMap.set(player.Team, {
              name: player.Team,
              owner: player.Owner,
              players: []
            });
          }
          const keeperStatus = calculateKeeperStatus(player);
          teamMap.get(player.Team).players.push({
            ...player,
            keeperStatus
          });
        });
        return Array.from(teamMap.values());
      }, [players]);
      
      const filteredTeams = useMemo(() => {
        let result = teams;
        
        if (selectedTeam !== 'all') {
          result = result.filter(team => team.name === selectedTeam);
        }
        
        if (searchTerm) {
          result = result.map(team => ({
            ...team,
            players: team.players.filter(player =>
              player.Player.toLowerCase().includes(searchTerm.toLowerCase())
            )
          })).filter(team => team.players.length > 0);
        }
        
        return result;
      }, [teams, selectedTeam, searchTerm]);
      
      const stats = useMemo(() => {
        const total = players.length;
        const eligible = players.filter(p => calculateKeeperStatus(p).eligible).length;
        const ineligible = total - eligible;
        
        return { total, eligible, ineligible };
      }, [players]);
      
      return (
        <div className="min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950">
          <div className="fixed inset-0 overflow-hidden pointer-events-none">
            <div className="absolute top-1/4 left-1/4 w-96 h-96 bg-purple-600/10 rounded-full blur-3xl animate-pulse"></div>
            <div className="absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-600/10 rounded-full blur-3xl animate-pulse" style={{ animationDelay: '1s' }}></div>
          </div>
          
          <div className="relative z-10">
            <header className="border-b border-purple-500/20 bg-slate-950/50 backdrop-blur-xl">
              <div className="max-w-7xl mx-auto px-6 py-8">
                <div className="flex items-center gap-4 mb-2">
                  <Trophy className="w-10 h-10 text-purple-400" />
                  <h1 className="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400" 
                      style={{ fontFamily: '"Bebas Neue", "Impact", cursive' }}>
                    Keeper League Manager
                  </h1>
                </div>
                <p className="text-purple-300/60 text-lg ml-14" style={{ fontFamily: '"Space Mono", monospace' }}>
                  2026 Season Planning Tool
                </p>
              </div>
            </header>
            
            <div className="max-w-7xl mx-auto px-6 py-6">
              <div className="grid grid-cols-3 gap-4">
                <div className="bg-gradient-to-br from-purple-900/40 to-purple-950/40 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20">
                  <div className="flex items-center gap-3 mb-2">
                    <Award className="w-5 h-5 text-purple-400" />
                    <span className="text-purple-300/60 text-sm uppercase tracking-wider font-bold">Total Players</span>
                  </div>
                  <div className="text-4xl font-black text-purple-200">{stats.total}</div>
                </div>
                
                <div className="bg-gradient-to-br from-green-900/40 to-emerald-950/40 backdrop-blur-sm rounded-2xl p-6 border border-green-500/20">
                  <div className="flex items-center gap-3 mb-2">
                    <CheckCircle className="w-5 h-5 text-green-400" />
                    <span className="text-green-300/60 text-sm uppercase tracking-wider font-bold">Eligible</span>
                  </div>
                  <div className="text-4xl font-black text-green-200">{stats.eligible}</div>
                </div>
                
                <div className="bg-gradient-to-br from-red-900/40 to-rose-950/40 backdrop-blur-sm rounded-2xl p-6 border border-red-500/20">
                  <div className="flex items-center gap-3 mb-2">
                    <XCircle className="w-5 h-5 text-red-400" />
                    <span className="text-red-300/60 text-sm uppercase tracking-wider font-bold">Ineligible</span>
                  </div>
                  <div className="text-4xl font-black text-red-200">{stats.ineligible}</div>
                </div>
              </div>
            </div>
            
            <div className="max-w-7xl mx-auto px-6 py-4">
              <div className="flex gap-4">
                <div className="flex-1 relative">
                  <Search className="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-purple-400" />
                  <input
                    type="text"
                    placeholder="Search players..."
                    value={searchTerm}
                    onChange={(e) => setSearchTerm(e.target.value)}
                    className="w-full pl-12 pr-4 py-3 bg-slate-900/50 border border-purple-500/20 rounded-xl text-purple-100 placeholder-purple-400/40 focus:outline-none focus:border-purple-500/60 focus:ring-2 focus:ring-purple-500/20"
                  />
                </div>
                
                <select
                  value={selectedTeam}
                  onChange={(e) => setSelectedTeam(e.target.value)}
                  className="px-6 py-3 bg-slate-900/50 border border-purple-500/20 rounded-xl text-purple-100 focus:outline-none focus:border-purple-500/60 focus:ring-2 focus:ring-purple-500/20"
                >
                  <option value="all">All Teams</option>
                  {teams.map(team => (
                    <option key={team.name} value={team.name}>{team.name}</option>
                  ))}
                </select>
              </div>
            </div>
            
            <div className="max-w-7xl mx-auto px-6 py-6 pb-12">
              <div className="space-y-6">
                {filteredTeams.map(team => (
                  <div key={team.name} className="bg-slate-900/40 backdrop-blur-sm rounded-2xl border border-purple-500/20 overflow-hidden">
                    <div className="bg-gradient-to-r from-purple-900/60 to-blue-900/60 px-6 py-4 border-b border-purple-500/20">
                      <h2 className="text-2xl font-black text-purple-100" style={{ fontFamily: '"Bebas Neue", "Impact", cursive' }}>
                        {team.name}
                      </h2>
                      <p className="text-purple-300/60 text-sm">{team.owner}</p>
                    </div>
                    
                    <div className="overflow-x-auto">
                      <table className="w-full">
                        <thead>
                          <tr className="bg-slate-950/40 text-purple-300/60 text-xs uppercase tracking-wider">
                            <th className="px-6 py-3 text-left font-bold">Player</th>
                            <th className="px-6 py-3 text-left font-bold">Current Acq.</th>
                            <th className="px-6 py-3 text-left font-bold">Current Years</th>
                            <th className="px-6 py-3 text-left font-bold">Status</th>
                            <th className="px-6 py-3 text-left font-bold">2026 Round</th>
                            <th className="px-6 py-3 text-left font-bold">Years Left</th>
                          </tr>
                        </thead>
                        <tbody className="divide-y divide-purple-500/10">
                          {team.players.map((player, idx) => (
                            <tr key={idx} className={\`
                              transition-colors
                              \${player.keeperStatus.eligible 
                                ? 'hover:bg-green-500/5' 
                                : 'hover:bg-red-500/5 opacity-60'
                              }
                            \`}>
                              <td className="px-6 py-4 text-purple-100 font-medium">
                                {player.Player}
                              </td>
                              <td className="px-6 py-4 text-purple-300/80">
                                {player.Acquired || '—'}
                              </td>
                              <td className="px-6 py-4 text-purple-300/80">
                                {player.Years || '—'}
                              </td>
                              <td className="px-6 py-4">
                                {player.keeperStatus.eligible ? (
                                  <div className="flex items-center gap-2">
                                    <CheckCircle className="w-4 h-4 text-green-400" />
                                    <span className="text-green-400 font-bold text-sm">Eligible</span>
                                  </div>
                                ) : (
                                  <div className="flex items-center gap-2">
                                    <XCircle className="w-4 h-4 text-red-400" />
                                    <span className="text-red-400 text-sm">{player.keeperStatus.reason}</span>
                                  </div>
                                )}
                              </td>
                              <td className="px-6 py-4">
                                {player.keeperStatus.eligible ? (
                                  <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-purple-500/20 border border-purple-500/40">
                                    <span className="text-purple-200 font-black text-lg">
                                      {player.keeperStatus.nextRound}
                                    </span>
                                    {player.keeperStatus.isRookie && (
                                      <span className="text-xs text-purple-400 font-bold">(R)</span>
                                    )}
                                  </div>
                                ) : (
                                  <span className="text-purple-500/40">—</span>
                                )}
                              </td>
                              <td className="px-6 py-4">
                                {player.keeperStatus.eligible ? (
                                  <span className="text-purple-300 font-bold">
                                    {player.keeperStatus.yearsRemaining} {player.keeperStatus.yearsRemaining === 1 ? 'year' : 'years'}
                                  </span>
                                ) : (
                                  <span className="text-purple-500/40">—</span>
                                )}
                              </td>
                            </tr>
                          ))}
                        </tbody>
                      </table>
                    </div>
                  </div>
                ))}
              </div>
            </div>
            
            <div className="max-w-7xl mx-auto px-6 py-8 mb-8">
              <div className="bg-slate-900/40 backdrop-blur-sm rounded-2xl border border-purple-500/20 p-6">
                <div className="flex items-center gap-3 mb-4">
                  <AlertCircle className="w-6 h-6 text-purple-400" />
                  <h3 className="text-xl font-black text-purple-100" style={{ fontFamily: '"Bebas Neue", "Impact", cursive' }}>
                    Keeper Rules
                  </h3>
                </div>
                <div className="grid md:grid-cols-2 gap-4 text-purple-300/80 text-sm leading-relaxed">
                  <ul className="space-y-2">
                    <li className="flex items-start gap-2">
                      <span className="text-purple-400 font-bold">•</span>
                      <span>Players may be kept for a maximum of <strong className="text-purple-200">3 years</strong></span>
                    </li>
                    <li className="flex items-start gap-2">
                      <span className="text-purple-400 font-bold">•</span>
                      <span>Players drafted in <strong className="text-purple-200">rounds 1-3</strong> are ineligible</span>
                    </li>
                    <li className="flex items-start gap-2">
                      <span className="text-purple-400 font-bold">•</span>
                      <span>Undrafted players count as <strong className="text-purple-200">12th round</strong> picks</span>
                    </li>
                  </ul>
                  <ul className="space-y-2">
                    <li className="flex items-start gap-2">
                      <span className="text-purple-400 font-bold">•</span>
                      <span>Regular players move up <strong className="text-purple-200">2 rounds</strong> when kept</span>
                    </li>
                    <li className="flex items-start gap-2">
                      <span className="text-purple-400 font-bold">•</span>
                      <span>Rookies (R) stay in the <strong className="text-purple-200">same round</strong> when kept</span>
                    </li>
                    <li className="flex items-start gap-2">
                      <span className="text-purple-400 font-bold">•</span>
                      <span>Years remaining calculated as current years <strong className="text-purple-200">minus 1</strong></span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      );
    }

    // Render the app
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<KeeperApp />);
    
    // Initialize Lucide icons after render
    setTimeout(() => {
      lucide.createIcons();
    }, 100);
  </script>
</body>
</html>
